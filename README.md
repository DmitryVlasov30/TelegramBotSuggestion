# Что это и зачем?
Это телеграмм бот предложка, он создан для владельцев больших телеграмм каналов. У него есть много дополнительных возможностей в отличии обычной предложки, которая пересылает сообщение админу. В этом телеграмм боте вы можете:
* Дополнительно добавлять модераторов, которые также смогут отбирать информацию для постинга в свой телеграмм канал.
* Рассылать какие-либо сообщения, это функция пригодиться например для рассылки рекламных баннеров и ТД.
* Банить пользователей в предложе и в комментариях канала прямиком из предложки, также доступна функция разбана пользователя.
----
# Что я использовал и как вообще пользоваться ботом
В этом проекте я использовал Python в связке с библиотекой [pyTelegramBotAPI](https://pypi.org/project/pyTelegramBotAPI)

## Как этим пользоваться?
### Функции доступные только для главного администратора:
* **/send "текст в том же сообщении или прикрепленная фотография с текстом"** - функция для рассылки сообщений всем кто когда-либо писал ТГ боту.
* **/admin** - выводит список всех модераторов и администратора ТГ бота.
* **/delete "номер модератора из списка, который присылается из команды `/admin`"** - убирает у пользователя возможности модератора.
* **/block_lst** - выводит список заблокированных пользователей.
* **/unblock "username заблокированного пользователя из списка, который присылается из команды `/block_lst`"** - разблокирует пользователя в ТГ боте и чате канала.

### Функции доступные модератору, а следовательно и главному администратору:
В основном всё что может делать модератор это - публиковать посты и блокировать пользователей нарушающих правила телеграмм канала.

### Как добавить модератора?
Модератор должен отправить функцию **/up_admin**, тогда главному администратору придёт сообщение, что пользователь под id: 'message_id' и username: '@имя', под этим сообщением будет две кнопки, добавить и отказать в просьбе быть модератором.

### Для обычных пользователей
* **/start** - начальное сообщение.
Что бы отправить сообщение модераторам можно просто написать это сообщение в чат и всё, работа пересылки **НЕ** зависит от команды **/start**.
----
# Как настроить бота?
Перед тем как запускать бота на локальном компьютере/сервере нужно подставить некоторые данные в переменные вписанные в начале файла [main.py](https://github.com/DmitryVlasov30/TelegramBotSuggestion/blob/main/main.py) и создать бота через [BotFather](https://t.me/BotFather).

### Как создать бота?
1. Перейдите в [BotFather](https://t.me/BotFather)
2. Введите команду **/newbot**
3. Введите имя и адрес бота
4. После этого бот пришлет вам сообщение, содержащее токен для HTTP API

В дальнейшем вы сможете редактировать своего бота, введя **/mybots** в @BotFather

### Как связать бота с кодом?
1. Сначала вам нужно скачать репозиторий или создать свой и вставить туда данный из моих файлов.
2. Вам нужно скопировать токен для HTTP API из @BotFather, потом вставить этот токен в переменную **token**.
3. Вам нужно получить данные своего message id это можно сделать с помощью [бота](https://t.me/getmyid_bot) или зайдя в веб версию телеграмма в избранное на конце ссылки на страницу вы увидите цифры - это ваш message id, теперь вам нужно вставить эти цифры в переменную **general_message_id**. 
4. Теперь вам нужно скопировать полное название вашего телеграмм канала без знака **@** и вставить название в переменную **name_chanel**.
5. Теперь вы должны узнать message id вашего чата в телеграмм канале(если вы добавляли комментарии в телеграмм канале, следовательно, создавали чат). Вам нужно через веб версию телеграмм зайти в этот чат и скопировать цифры в конце ссылки со знаком "-", message id телеграмм чата всегда должно быть отрицательно, поэтому мы копируем цифры со знаком "-".
6. Наконец, заключительный этап, вам нужно в любом компиляторе Python в командную строку ввести команду **pip install -r requirements.txt**.
----
# Планы на развитие проекта
1. В проект хотелось бы интегрировать базу данных [PostgreSQL](https://www.postgresql.org), чтобы хранить в ней данные модераторов.
2. Возможность добавлять несколько телеграмм каналов в одного бота.


